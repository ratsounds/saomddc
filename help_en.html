<h2>Personal Units, Weapons (&Armor)</h2>
<p>Welcome to the modified part of Ratsounds unofficial damage calculator.<br/>
    (Press the ? icon to hide this help if you already know how it works)<br/>
    On this website you can save the units, weapons and armors you have ingame, as cookies to the website (Yes hereby you accept cookies, if you don't you're supposed to leave, They last for 1000 days).<br/>
    In this way you can adjust the damage calculator to only use the stuff you actually own instead of that new gacha with that fancy wep noone pulls.<br/>
    Furthermore this site is dependant on changes at <a href="https://ratsounds.github.io/saomddc/">ratsounds calculator</a>. Hence until either he incorporates this or I find a way to deal with updates automatically,
    I'll need to update his changes manually to here which causes delay in functionality.<br/>
    Anyways let's get to it and explain it in some more detail how to use.</p>
<h2>Modified UI</h2>
<p>The three new icons signify the personal items you want to use (icons chosen under lack of photoshop skills).<br/>
    The one mostleft (sword) signifies if you want to use your own units. <br/>
    The middle one (shieldSword) signifies using your own weapons.<br/>
    The last one (staff) is for using your own armors.<br/>
    If you haven't added any characters yet then the list will be empty when the char filter<br/>
    When you don't have a compatible weapon or armor for a char they will be treated as having none equipped.<br/>
    (Shown as "None" when you open the char details).
</p>
<h2>Controls</h2>
<p>For any of the following controls to work you'll need to have focus on the ranking list (click a unit in the list to focus there).
Here's a list of the effect pressing each button will have.</p>
<p>Peronal items actions</p>
<div class="sample">
    <p>A = Add the currently selected unit from the ranking to your personal Characters</p>
    <p>S = Add the Weapon of the currently selected unit to your personal Weapons</p>
    <p>O = Remove the currently selected unit from the ranking from your personal Characters</p>
    <p>P = Remove the Weapon of the currently selected unit from your personal Weapons</p>
</div>
<p>Current weapon actions. These temporarily remove the unit / weapon from calculations for ease of use when already equipping the wep on one char.</p>
<div class="sample">
    <p>R = Resets all items from your calculations list with your personal items</p>
    <p>D = Remove the selected character and their weapon from the calculations.</p>
    <p>W = Remove only the weapon of the selected character from the calculations.</p>
</div>
<h2>How to get Id's</h2>
<p>Most of the weapons you have will not appear in the list for you to add since they're the best weapons. The lowest searchBar fulfills the purpose
of manually adding Characters, Weapons and armors to your personal list.<br/>
    All items can only be add with the use of their database id. You have 2 options to find your id.<br/>
    You can either view the database by clicking <a href="https://raw.githubusercontent.com/zehnzen/saomddc/master/data/data-uncompressed.json">this link</a> and find your item with CTRL + F (recommended method).<br/>
    Or you can view the database by using the browser's console. Console can be opened in chrome by pressing F12 and selecting console (2nd item topbar). When using the below functions
an object will popup, expand the object by pressing the triangle. Press CTRL + F to find the desired item in the response. Use the textfield at the bottom with the placeholder text "Find string in logs".</p>
<p>E.g. id's</p>
<p class="math"><var>CharacterId</var> = <var>bride_alice</var></p>
<p class="math"><var>WeaponId</var> = <var>sports_sword</var></p>
<p class="math"><var>ArmorId</var> = <var>mf_dark1</var></p>
<p>Console functions for showing Database</p>
<div class="sample">
    <p>showAllChars() shows database list of all char id's / names</p>
    <p>showAllWeps() shows database list of all weapon id's / names</p>
    <p>showAllArmors() shows database list of all armor id's / names</p>
</div>
<h2>Personal textfield commands</h2>
<p>When you have the id's you can add the items according to the following format.<br/>charId's should be followed by their lvl (80, 90, 100).<br/>Weapons by their rarity (4, 5).<br/>
    Armor id's need to be added after the "armor" prefix.<br/>
    Every word needs to be separated by spaces. Multiple commands can be chained when separated by spaces.</p>
<p class="math"><var>Add Char</var> = <var>bride_alice</var> <var>90</var></p>
<p class="math"><var>Add Weapon</var> = <var>sports_sword</var> <var>4</var></p>
<p class="math"><var>Add Armor</var> = armor <var>mf_dark1</var></p>
<p>E.g. Adding multiple weapons in on go when pasting into the personalTextField and pressing enter.</p>
<p class="sample">bride_sword1 4 bonds_sword 4 c_sword 4 jr_dual 4 moonlight_sword 4
    moonlight_sword1 4 ninja_rapier 4 princess_sword 4 ps_mace 4</p>
<p>If you entered an item incorrectly to your personal items you can remove any char/weapon/armor.</p>
<p class="math"><var>Remove Char/Weapon/Armor</var> = remove <var>bride_alice</var></p>
<p>You can get an export of all your personal items with the following commands.</p>
<div class="sample">
    <p class="math"><var>export all</var> Exports all your personal Chars & Weapons & Armors</p>
    <p class="math"><var>export chars</var> Exports all your personal Chars</p>
    <p class="math"><var>export weapons</var> Exports all your personal Weapons</p>
    <p class="math"><var>export armors</var> Exports all your personal Armors</p>
</div>
<p>If you want to clear all or part of your personal items you can enter the following commands to remove them (removes their cookies)</p>
<div class="sample">
    <p class="math"><var>clear all</var> Removes all your personal Chars & Weapons & Armors</p>
    <p class="math"><var>clear chars</var> Removes all your personal Chars</p>
    <p class="math"><var>clear weapons</var> Removes all your personal Weapons</p>
    <p class="math"><var>clear armors</var> Removes all your personal Armors</p>
</div>
<h2>Afterword</h2>
<p>The code for this website is forked from ratsounds original damage calculator this simply builds upon and improves functionality.
The github for this project is located at <a href="https://github.com/zehnzen/saomddc">https://github.com/zehnzen/saomddc</a> (gh-pages branch) this is a friendlier implementation
of the userscript it originally started out as with less hassle for new users (I hope).<br/>
    For feedback you can create an issue on the project's github.<br/>
    Otherwise you can contact me on Discord: zehnzen#9235</p>
<h2>Current Ranking Events</h2>
<div id="rankingevents">
</div>
<p>Use ranking event hashtags and template to improve search capability when movies and strategies. I suggest
    to use following template (I plan to make a tool based on this template).</p>
<p class="math">#メモデフ #saomd #<var>ranking event hashtag</var><var>time sec</var><var>char info</var><var>comment</var></p>
<p class="math"><var>charinfo</var>=<var>char.lv</var><var>gacha</var><var>nick</var>R<var>wep.lv</var>+<var>char.lv</var>...</p>
<p>e.g.</p>
<div class="sample">
    <p>#メモデフ #saomd #FairylandRanking2nd 20s</p>
    <p>80 PYui R4+100 OSAsuna R5+100 HR Kirito R5</p>
    <p>yui-chan is soooooo cute.</p>
</div>
<p>The seach capability will improve if you use char and gacha names from below-mentioned lists.</p>
<h2>About</h2>
<p>
    This web site is an unofficial damage calculation tool for Sword Art Online: Memory Defrag. The damage calculation method
    and the parameters for characters are estimated from data bases on <a href="http://www.sao-memodefu.xyz">SAO（SAOMD）メモデフ攻略ヒント</a>                    and <a href="https://www.reddit.com/r/MemoryDefrag/comments/5yyr4j/sao_md_4_database/">SAO MD 4★ Database</a>.
</p>
<h2>Usage</h2>
<p>Select boss preset &amp; get damage ranking. </p>
<p><img src="image/saomd dc help.jpg"></p>
<table>
    <tbody>
        <tr>
            <th class="icon"><i class="def"></i></th>
            <td>Defence</td>
        </tr>
        <tr>
            <th class="icon"><i class="buff"></i></th>
            <td>Group attack buff(YUI:1.275 ON:1.165 OFF:1.0)</td>
        </tr>
        <tr>
            <th class="icon"><i class="debuff"></i></th>
            <td>Debuff</td>
        </tr>
        <tr>
            <th class="icon"><i class="racc"></i></th>
            <td>Damage modifier from Ranking Accessory</td>
        </tr>
        <tr>
            <th class="icon"><i class="trophy"></i></th>
            <td>Trophy attack buff</td>
        </tr>
        <tr>
            <th class="icon"><i class="weak"></i></th>
            <td>Damage modifier at Weak</td>
        </tr>
        <tr>
            <th class="icon"><i class="resist"></i></th>
            <td>Damage modifier at Resist</td>
        </tr>
        <tr>
            <th class="icon"><i class="rweak"></i></th>
            <td>Damage modifier at Red Weak</td>
        </tr>
        <tr>
            <th class="icon"><i class="limit"></i></th>
            <td>Damage modifier limit</td>
        </tr>
        <tr>
            <th class="icon"><i class="etcmod"></i></th>
            <td>Other damage modifier</td>
        </tr>
        <tbody>
</table>

<h2>Tips &amp; Tricks</h2>
<dl class="tips"><dt>Cut-in ON/OFF</dt><dt class="sub">(カットイン ON/OFF)</dt><dd><p><a href="https://twitter.com/ratsounds/status/863807949931552768">[see also]</a></p></dd><dt>Skill Slot Notation</dt><dt class="sub">(スキルスロットの表記)</dt><dd><p></p></dd><dt>Incantation</dt><dt class="sub">(呪文)</dt><dd><p></p></dd><dt>Basics of Parry</dt><dt class="sub">(パリィの基本)</dt><dd><p></p></dd><dt>Flip Switch</dt><dt class="sub">(背面スイッチ)</dt><dd><p><a href="https://twitter.com/ratsounds/status/862598839772913664">[see also]</a></p></dd><dt>Air Parry</dt><dt class="sub">(ジャンプパリィ)</dt><dd><p></p></dd><dt>Jump Cancel</dt><dt class="sub">(ジャンプキャンセル)</dt><dd><p></p></dd><dt>Charge Cancel</dt><dt class="sub">(溜めキャン)</dt><dd><p></p></dd><dt>Hold Cancel</dt><dt class="sub">(Holdキャン)</dt><dd><p></p></dd><dt>Step Jump Cancel</dt><dt class="sub">(ステップジャンキャン)</dt><dd><p></p></dd><dt>V Parry</dt><dt class="sub">(Vパリィ)</dt><dd><p></p></dd><dt>Lance Step</dt><dt class="sub">(槍ステップ)</dt><dd><p></p></dd><dt>Lance Step Parry Cancel</dt><dt class="sub">(槍ステパリジャンキャン)</dt><dd><p></p></dd><dt>Staff Charge Shot</dt><dt class="sub">(杖の溜め撃ちパリィ)</dt><dd><p></p></dd><dt>Charge Shot after Parry</dt><dt class="sub">(パリィ後の溜め撃ち)</dt><dd><p></p></dd><dt>Hit Stop</dt><dt class="sub">(ヒットストップ)</dt><dd><p></p></dd><dt>Red Weak</dt><dt class="sub">(赤Weak)</dt><dd><p></p></dd><dt>Red Weak Continuation</dt><dt class="sub">(赤Weak持続)</dt><dd><p></p></dd><dt>Multi-Combination</dt><dt class="sub">(多段連携)</dt><dd><p></p></dd><dt>Combination Cancel</dt><dt class="sub">(連携キャンセル)</dt><dd><p></p></dd><dt>Guaranteed SS</dt><dt class="sub">(発生保障付きSS)</dt><dd><p></p></dd><dt>Fast Switch Back</dt><dt class="sub">(高速スイッチバック)</dt><dd><p></p></dd><dt>Fake Combination</dt><dt class="sub">(疑似連携)</dt><dd><p></p></dd><dt>Fast Fake Combination</dt><dt class="sub">(高速疑似連携)</dt><dd><p></p></dd><dt>Duration</dt><dd><p></p></dd><dt>CSec</dt><dd><p></p></dd><dt>C/2 Duration</dt><dd><p></p></dd><dt>Duration Gap</dt><dd><p></p></dd><dt>DPS</dt><dd><p></p></dd><dt>CDPS</dt><dd><p></p></dd><dt>C/2 DPS</dt><dd><p></p></dd><dt>DPM</dt><dd><p></p></dd><dt>Capacity</dt><dd><p></p></dd></dl>

<h2>Damage Calculation</h2>
<p>In Memory Defrag, Damage can be calculated following simple eqation but real in-game damage has variance
    in 10% for max damage.</p>
<p class="math">
    <var>Damage</var><b>=</b><b>(</b><var>Attack</var><b>-</b><var>Defence</var><b>)</b><b>×</b><var>Skill Rate</var><b>×</b><var>Modifier</var>
</p>
<p>where <var>Attack</var> can be defined as follows</p>
<p class="math">
    <var>Attack</var><b>=</b><b>(</b><var>Base Attack</var><b>+</b><var>Skill Slot</var><b>)</b><b>×</b><b>(</b><b>1</b><b>+</b><b>Σ</b><var>Battle Skill</var><b>)</b><b>×</b><var>Buff</var>
</p>
<p class="math">
    <var>Base Attack</var><b>=</b><var>Character Attack</var><b>+</b><var>Weapon Attack</var>
</p>
<p>Attack+ of Skill Slot gave the effect of Battle Skill and Buff becase <var>Skill Slot</var> is added before
    multiplication of Battle Skill and Buff.</p>
<p>Each boss has own <var>Defence</var> that is 1450 in many cases for ranking event. Defence can be calculated
    by following eqation considering debuff.</p>
<p class="math">
    <var>Defence</var><b>=</b><var>Boss Defence</var><b>×</b><var>Debuff</var>
</p>
<p><var>Skill Rate</var> is important hidden parameter to define damage output. Skill rate is different in each
    skill and normal attack.</p>
<p>Finally, given basic damage is modified by elementals and weapon types </p>
<p class="math">
    <var>Modifier</var><b>=</b><var>Critical</var><b>×</b><var>Elemental</var><b>×</b><var>Weapon Type</var>
</p>
<p><var>Critical</var>is basicaly 1.5. Some character, such as new water characters, has battle skill to improve
    them.
</p>
<p><var>Elemental</var> and <var>Weapon Type</var> are modifiers for weak points that are defined for each boss.
    Normally, these modifier is 1.5 in "Weak" and 0.75 in "Resist". Note that weapon type modifier is basicaly
    determined by character's weapon type but few character has sword skill with different weapon type. For
    simple example, OS Asuna's S3 is slash type and OS Shinon's S3 is magic type. For more complex exmaple,
    V Leafa's S3 has slash type part and magic type part.</p>
<p>The final damage gave two or more weak point modifier. However, <var>Modifier</var>is limited smaller than
    <var>Critical</var>x2.</p>
<h2>How to get Defence</h2>
<p>
    <var>Defence</var> can be estimated from the damage in character with <var>Modifier</var>=1 because the
    skill rate of first hit in the rapier and sword normal attack is 0.5. Because damage has variance in
    10%, take the max value or take the mean value or median and devide them by 0.95 for error reduction.
    For more detailed sampling, <var>Defence</var> can be get without error by watching out the character
    with <var>0</var>&lt;<var>Attack</var>-<var>Defence</var>&lt;<var>1</var> because damage will be 1 in
    skill rate &lt; 1 and 2 or more in skill rate &gt; 1
</p>
<h2>How to get Modifier</h2>
<p>The modifiers of elements and weapon types have to be measured due to the difference in enemies. Modifier
    can be determined from damage rate between observations and estimate damage under known <var>defence</var>.
    When boss has 2 or more weak points, modifiers should be detemined separately for each weak point becose
    the logic under dual weakness is unclarified.</p>
<h2>How to get Skill Rate from Test Goblin</h2>
<p><var>Skill Rate</var> can be estimated from Test Goblin since it has 1450 defence. So you can know damage
    specs before lottery:3 Note that the characters in test stage has all battle skills and all skill slots
    but thier sowrd skills are lv1. The lv2 sword skills commonly has 1.1 times values on <var>Skill Rate</var>                    and 0.5 times <var>Buff</var>.</p>
<h2>How to get Attack Buff</h2>
<p><var>Buff</var> have to be estimated based on damage calculation expression because the effect of attak buff
    could not be calculated from simple damage rate. For example in S3 has attack buff, you have to solve
    the simultaneous equation for <var>Buff</var> and <var>Skill Rate</var> from the observations of S1 or
    S2 on buffed and non-buffed.</p>

<h2>Cheat Sheet</h2>
<div>
    <p id="cheetsheet">
        <img src="image/saomd_cheatsheet_box.jpg">
    </p>
</div>
<h2>list of Gacha</h2>
<table id="gacha">
    <tbody></tbody>
</table>
<h2>list of Character Nickname</h2>
<table id="cname">
    <tbody></tbody>
</table>

<h2>Special Thanks</h2>
<p>
    Thank you so much for all contributors on <a href="http://www.sao-memodefu.xyz">SAO（SAOMD）メモデフ攻略ヒント</a>                    and
    <a href="https://www.reddit.com/r/MemoryDefrag/comments/5yyr4j/sao_md_4_database/">SAO MD 4★ Database</a>.
    The data for damage calculation is based on these great databases. I couldn’t have make this tool without
    your effort. Thank you again.
</p>
<h2>at last...</h2>
<p>Don't worry, this is (' ω ' ミ)<a href="https://twitter.com/ratsounds">@ratsounds</a>'s guidebook</p>
